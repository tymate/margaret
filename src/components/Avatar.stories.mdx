import { Meta, Story, Preview, Props } from '@storybook/addon-docs';
import { ThemeProvider } from 'styled-components';
import { action } from '@storybook/addon-actions';
import Avatar from './Avatar';
import { Stack, theme, injectMargaret } from '..';
import { FaUserCircle } from 'react-icons/fa';

<Meta
  title="Design System/Avatar"
  component={Avatar}
  parameters={{ previewTabs: { canvas: { hidden: true } } }}
/>

# Avatar

<Props of={Avatar} />

## Sizes

Margaret provides defaults sizes: `default`, `tiny`, `small`, `medium`, `large` and `huge`.

<Preview>
  <Story name="Sizes">
    <Stack alignY="center" gutterSize={1}>
      <Avatar firstName="Nino" lastName="Quincampoix" size="small" />
      <Avatar firstName="Nino" lastName="Quincampoix" />
      <Avatar firstName="Nino" lastName="Quincampoix" size="medium" />
      <Avatar firstName="Nino" lastName="Quincampoix" size="large" />
    </Stack>
  </Story>
</Preview>

Those size can be overriden using by setting a custom `theme.avatarSizes`. The default
values are as is:

```javascript
const theme = {
  ...
  avatarSizes: {
    tiny: '1rem',
    small: '2rem',
    default: '3rem',
    medium: '4rem',
    large: '6rem',
    huge: '8rem',
  },
};
```

For instance, setting `theme.avatarSizes` as follow…

```javascript
const theme = {
  ...
  avatarSizes: {
    micro: '32px',
    default: '96px',
    mega: '256px',
  },
};
```

…would give this results in-app.

<Preview>
  <Story name="Custom Sizes">
    <ThemeProvider
      theme={injectMargaret({
        ...theme,
        avatarSizes: {
          micro: '32px',
          default: '96px',
          mega: '256px',
        },
      })}
    >
      <Stack alignY="center" gutterSize={1}>
        <Avatar firstName="Nino" lastName="Quincampoix" size="micro" />
        <Avatar firstName="Nino" lastName="Quincampoix" />
        <Avatar firstName="Nino" lastName="Quincampoix" size="mega" />
      </Stack>
    </ThemeProvider>
  </Story>
</Preview>

## Modes

Avatar content can be provided via five props: `imageUrl`, `icon`, `firstName` + `lastName`, and `name`, in importance decreasing order.

<Preview>
  <Story name="Kinds">
    <Stack alignY="center" gutterSize={1}>
      <Avatar
        imageUrl="https://picsum.photos/256/256"
        firstName="Nino"
        lastName="Quincampoix"
        name="Nino19"
        icon={<FaUserCircle size={32} />}
      />
      <Avatar
        firstName="Nino"
        lastName="Quincampoix"
        name="Nino19"
        icon={<FaUserCircle size={32} />}
      />
      <Avatar firstName="Nino" lastName="Quincampoix" name="Nino19" />
      <Avatar lastName="Quincampoix" name="Nino19" />
      <Avatar name="Nino19" />
      <Avatar />
    </Stack>
  </Story>
</Preview>

## Variants

Three variants are provided. They set the avatar as round, rounded or square.

<Preview>
  <Story name="Variants">
    <Stack alignY="center" gutterSize={1}>
      <Avatar imageUrl="https://picsum.photos/256/256" />
      <Avatar imageUrl="https://picsum.photos/256/256" variant="rounded" />
      <Avatar imageUrl="https://picsum.photos/256/256" variant="square" />
    </Stack>
  </Story>
</Preview>

## Overrides

The background and border radius can be overriden at the component level.
If set, they take the value of the corresponding theme prop.

For instance, using this theme…

```javascript
const theme = {
  ...
  borderRadius: {
    huge: '32px',
    ...
  },
  gradients: {
    primaryGradient: 'linear-gradient(to bottom, #bada55, #c55)'
    ...
  },
  colors: {
    primary: '#bada55'
    ...
  },
  secondary: '#c55'
};
```

…would enable the following component-level customization:

<Preview>
  <Story name="Component-level customization">
    <Stack alignY="center" gutterSize={1}>
      <ThemeProvider
        theme={injectMargaret({
          ...theme,
          borderRadius: {
            ...theme.borderRadius,
            huge: '32px',
          },
          gradients: {
            primaryGradient: 'linear-gradient(to bottom, #f5aba5, #406fb3)',
          },
          colors: {
            primary: '#406fb3',
          },
          secondary: '#f5aba5',
        })}
      >
        <Avatar
          size="huge"
          icon={<FaUserCircle />}
          background="primaryGradient"
        />
        <Avatar size="huge" icon={<FaUserCircle />} background="primary" />
        <Avatar size="huge" icon={<FaUserCircle />} background="secondary" />
        <Avatar size="huge" icon={<FaUserCircle />} borderRadius="huge" />
      </ThemeProvider>
    </Stack>
  </Story>
</Preview>
