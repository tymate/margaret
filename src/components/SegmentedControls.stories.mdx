import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';
import SegmentedControls from './SegmentedControls';
import Stack from './Stack';
import { theme, injectMargaret } from '../ui';
import { ThemeProvider } from 'styled-components';

<Meta
  title="Design System/SegmentedControls"
  component={SegmentedControls}
  parameters={{ previewTabs: { canvas: { hidden: true } } }}
/>

# SegmentedControls

## Default

<Preview>
  <Story name="Default" parameters={{ canvas: { disable: true } }}>
    {() => {
      const [value, setValue] = useState('foo');
      return (
        <SegmentedControls
          value={value}
          onSelect={setValue}
          options={[
            { label: 'Foo', value: 'foo' },
            { label: 'Bar', value: 'bar' },
            { label: 'Baz', value: 'baz' },
          ]}
        />
      );
    }}
  </Story>
</Preview>

## Globally disabled

<Preview>
  <Story name="Disabled" parameters={{ canvas: { disable: true } }}>
    {() => {
      const [value, setValue] = useState('bar');
      return (
        <SegmentedControls
          disabled
          value={value}
          onSelect={setValue}
          options={[
            { label: 'Foo', value: 'foo' },
            { label: 'Bar', value: 'bar' },
            { label: 'Baz', value: 'baz' },
          ]}
        />
      );
    }}
  </Story>
</Preview>

## Locally disabled

<Preview>
  <Story name="Locally" parameters={{ canvas: { disable: true } }}>
    {() => {
      const [value, setValue] = useState('bar');
      return (
        <SegmentedControls
          value={value}
          onSelect={setValue}
          options={[
            { label: 'Foo', value: 'foo', disabled: true },
            { label: 'Bar', value: 'bar' },
            { label: 'Baz', value: 'baz' },
          ]}
        />
      );
    }}
  </Story>
</Preview>

## Theming

The segmented control colors can be overridden with the `theme.pills` key.

```javascript
const theme = {
  pills: {
    color: '#f5aba5',
    colorHover: '#e95557',
    backgroundColor: '#ffffff',
    backgroundColorHover: '#fff0ee',
    activeBackground: '#f5aba5',
    activeColor: '#e95557',
    disabledBackground: ...,
    disabledColor: ...,
    activeDisabledBackground: ...,
    activeDisabledColor: ...,
    boxShadowColor: ...,
    navBarBackgroundColor: ...,

    borderRadius: 'large',
  }
}
```

<Preview>
  <Story name="Component-level customization">
    {() => {
      const [value, setValue] = useState('bar');
      return (
        <ThemeProvider
          theme={injectMargaret({
            ...theme,
            pills: {
              ...theme.pills,
              color: '#f5aba5',
              colorHover: '#e95557',
              backgroundColorHover: '#fff0ee',
              activeBackground: '#f5aba5',
              activeColor: '#e95557',
            },
          })}
        >
          <SegmentedControls
            value={value}
            onSelect={setValue}
            options={[
              { label: 'Foo', value: 'foo' },
              { label: 'Bar', value: 'bar' },
              { label: 'Baz', value: 'baz' },
            ]}
          />
        </ThemeProvider>
      );
    }}
  </Story>
</Preview>
